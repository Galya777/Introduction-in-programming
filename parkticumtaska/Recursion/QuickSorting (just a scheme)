void quicksort (int a[], int n)
{

if (n==1)
    return;
int x = a[0];

//разделяме а+1 (тоест a с "изваден" a[0]) на две части -
//в лявата част са по-малките елементи от a[0], а в
//дясната - по-големите или равни

int div = split (a+1,n-1,x);

//сортираме двете парчета на a+1, като границата между
//тях се определя от div

quicksort (a+1,div);
quicksort (a+1+div,n-div-1);

//преместваме с една позиция наляво елементите на а, за
//да освободим място за x между двете части
shiftLeft(a,1,div);

//"вмъкваме" x между двете части
a[div] = x;
}
